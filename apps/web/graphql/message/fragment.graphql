fragment messageFragment on Message {
  id
  content
  senderId
  clientTempId
  parentMessageId
  parentMessage {
    id
    content
    sender {
      ...userMessageFragment
    }
  }
  edited
  editedAt
  deleted
  deletedAt
  createdAt
  sentAt
  deliveredAt
  state
  sender {
    ...userMessageFragment
  }
  reactions {
    ...messageReactions
  }
  attachments {
    id
    createdAt
    fileId
    linkDesc
    linkMeta
    linkThumbnail
    linkTitle
    type
    url
    file {
      id
      key
      meta
      url
    }
  }
}

fragment mutationMessageFragment on Message {
  id
  content
  senderId
  clientTempId
  parentMessageId
  createdAt
  sentAt
  state
  parentMessage {
    id
    content
    sender {
      ...userMessageFragment
    }
  }
  sender {
    ...userMessageFragment
  }
  reactions {
    ...messageReactions
  }
  attachments {
    id
    createdAt
    fileId
    linkDesc
    linkMeta
    linkThumbnail
    linkTitle
    type
    url
    file {
      id
      key
      meta
      url
    }
  }
}

fragment subscriptionMessageFragment on Message {
  id
  content
  senderId
  clientTempId
  parentMessageId
  parentMessage {
    id
    content
    sender {
      ...userMessageFragment
    }
  }
  edited
  editedAt
  deleted
  deletedAt
  createdAt
  sentAt
  deliveredAt
  state
  sender {
    ...userMessageFragment
  }
  reactions {
    ...messageReactions
  }
  attachments {
    id
    createdAt
    fileId
    linkDesc
    linkMeta
    linkThumbnail
    linkTitle
    type
    url
    file {
      id
      key
      meta
      url
    }
  }
}

fragment messageSenderSourceFragment on MessageSenderSource {
  email
  firstName
  id
  lastName
  username
  avatarUrl
}

fragment messageAttachmentSourceFragment on MessageAttachmentSource {
  id
  type
  fileId
  url
  linkTitle
  rideId
}

fragment messageSourceFragment on MessageSource {
  attachments {
    ...messageAttachmentSourceFragment
  }
  clientTempId
  content
  conversationId
  createdAt
  deleted
  deletedAt
  deliveredAt
  edited
  editedAt
  id
  parentMessageId
  rideId
  sender {
    ...messageSenderSourceFragment
  }
  senderId
  sentAt
  state
}

fragment messageSearchHitFragment on MessageSearchHit {
  _id
  _index
  _score
  position
  _source {
    ...messageSourceFragment
  }
}

fragment messageSearchFragment on MessageSearchResponse {
  hits {
    ...messageSearchHitFragment
  }
  total
}

fragment messagesAroundOutputFragment on MessagesAroundOutput {
  targetMessageId
  targetPosition
  beforeCount
  afterCount
  hasMoreBefore
  hasMoreAfter
  messages {
    ...messageFragment
  }
}
