fragment ConversationBasic on UserConversation {
  id
  title
  type
  createdAt
  directHash
  rideId
  _count {
    messages
    participants
  }
}

fragment ConversationWithParticipants on UserConversation {
  ...ConversationBasic
  participants {
    conversationId
    id
    isMuted
    joinedAt
    role
    user {
      id
      firstName
      lastName
      avatar {
        ...ParticipantAvatar
      }
    }
  }
}

fragment conversationParticipantSourceFragment on ConversationParticipantSource {
  avatarUrl
  conversationId
  displayName
  email
  id
  isMuted
  joinedAt
  role
  userId
  username
}

fragment conversationSearchHitFragmentSource on ConversationSource {
  id
  title
  type
  createdAt
  createdAt_text
  participants {
    ...conversationParticipantSourceFragment
  }
  messageCount
}

fragment conversationSearchHitFragment on ConversationSearchHit {
  _id
  _score
  _index
  _source {
    ...conversationSearchHitFragmentSource
  }
}

fragment conversationSearchResponseFragment on ConversationSearchResponse {
  total
  hits {
    ...conversationSearchHitFragment
  }
}
