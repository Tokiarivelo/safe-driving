query GetUserConversations($limit: Int, $cursor: String) {
  userConversations(limit: $limit, cursor: $cursor) {
    conversations {
      ...ConversationWithParticipants
    }
    hasNextPage
    cursor
  }
}

query GetConversationById($id: String!) {
  conversation(id: $id) {
    ...ConversationWithParticipants
  }
}

query SearchConversations($q: String!, $page: Int!, $size: Int!) {
  searchConversations(q: $q, page: $page, size: $size) {
    ...conversationSearchResponseFragment
  }
}

query getDirectConversationBetweenUsers($otherUserId: String!) {
  directConversationBetweenUsers(otherUserId: $otherUserId) {
    id
    directHash
  }
}

query GetConversationAttachmentsSummary($conversationId: String!) {
  conversationAttachmentsSummary(conversationId: $conversationId) {
    totalFiles
    totalImages
    totalVideos
    totalDocuments
    totalAudio
    totalLinks
    totalRides
    byMimeType {
      type
      count
    }
  }
}

query GetConversationAttachments($conversationId: String!, $filter: FileTypeFilter, $limit: Int, $cursor: String) {
  conversationAttachments(conversationId: $conversationId, filter: $filter, limit: $limit, cursor: $cursor) {
    attachments {
      id
      messageId
      type
      file {
        id
        key
        url
        meta
      }
      url
      linkTitle
      linkDesc
      linkThumbnail
      linkMeta
      rideId
      createdAt
      senderName
      messageCreatedAt
    }
    total
    hasNextPage
    cursor
  }
}
